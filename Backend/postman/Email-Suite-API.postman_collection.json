{
  "info": {
    "name": "Email Suite API",
    "description": "Complete API collection for Email Suite platform",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "version": "1.0.0"
  },
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://localhost:3001",
      "type": "string"
    },
    {
      "key": "accessToken",
      "value": "",
      "type": "string"
    },
    {
      "key": "refreshToken",
      "value": "",
      "type": "string"
    },
    {
      "key": "mfaToken",
      "value": "",
      "type": "string"
    },
    {
      "key": "userId",
      "value": "",
      "type": "string"
    },
    {
      "key": "campaignId",
      "value": "",
      "type": "string"
    },
    {
      "key": "templateId",
      "value": "",
      "type": "string"
    },
    {
      "key": "trackingId",
      "value": "",
      "type": "string"
    },
    {
      "key": "sessionId",
      "value": "",
      "type": "string"
    },
    {
      "key": "subscriptionId",
      "value": "",
      "type": "string"
    }
  ],
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "type": "text/javascript",
        "exec": [
          "// Get the request path",
          "const requestPath = pm.request.url.getPath();",
          "",
          "// Public endpoints that don't need auth",
          "const publicEndpoints = [",
          "    '/api/auth/login',",
          "    '/api/auth/register',",
          "    '/api/auth/forgot-password',",
          "    '/api/auth/reset-password',",
          "    '/api/auth/verify-email',",
          "    '/api/track/pixel/',",
          "    '/api/track/click/',",
          "    '/api/payments/webhook',",
          "    '/health'",
          "];",
          "",
          "// Check if this is a public endpoint",
          "const isPublic = publicEndpoints.some(endpoint => ",
          "    requestPath.startsWith(endpoint) || requestPath.includes(endpoint)",
          ");",
          "",
          "// If not public and we have an access token, add it",
          "if (!isPublic) {",
          "    const accessToken = pm.environment.get(\"accessToken\");",
          "    if (accessToken) {",
          "        pm.request.headers.add({",
          "            key: 'Authorization',",
          "            value: `Bearer ${accessToken}`",
          "        });",
          "    }",
          "}"
        ]
      }
    }
  ],
  "item": [
    {
      "name": "üîê Authentication",
      "item": [
        {
          "name": "Register",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"User registered successfully\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.success).to.be.true;",
                  "    pm.environment.set(\"userId\", jsonData.data.user.id);",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/auth/register",
              "host": ["{{baseUrl}}"],
              "path": ["api", "auth", "register"]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"test@example.com\",\n  \"password\": \"SecurePass123!\",\n  \"name\": \"Test User\",\n  \"plan\": \"FREE\"\n}"
            }
          }
        },
        {
          "name": "Login",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Login successful\", function () {",
                  "    pm.response.to.have.status(200);",
                  "    var jsonData = pm.response.json();",
                  "    ",
                  "    if (jsonData.data && jsonData.data.mfaRequired) {",
                  "        pm.environment.set(\"mfaToken\", jsonData.data.mfaToken);",
                  "        console.log(\"MFA required. Use verify MFA endpoint.\");",
                  "    } else if (jsonData.data && jsonData.data.tokens) {",
                  "        pm.environment.set(\"accessToken\", jsonData.data.tokens.access);",
                  "        pm.environment.set(\"refreshToken\", jsonData.data.tokens.refresh);",
                  "        pm.environment.set(\"sessionId\", jsonData.data.sessionId);",
                  "        console.log(\"Login successful, tokens stored.\");",
                  "    }",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/auth/login",
              "host": ["{{baseUrl}}"],
              "path": ["api", "auth", "login"]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"test@example.com\",\n  \"password\": \"SecurePass123!\",\n  \"rememberMe\": true\n}"
            }
          }
        },
        {
          "name": "Refresh Token",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Token refresh successful\", function () {",
                  "    pm.response.to.have.status(200);",
                  "    var jsonData = pm.response.json();",
                  "    pm.environment.set(\"accessToken\", jsonData.data.accessToken);",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/auth/refresh",
              "host": ["{{baseUrl}}"],
              "path": ["api", "auth", "refresh"]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"refreshToken\": \"{{refreshToken}}\"\n}"
            }
          }
        },
        {
          "name": "Get Current User",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Get user successful\", function () {",
                  "    pm.response.to.have.status(200);",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.data.user.email).to.eql(\"test@example.com\");",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/api/auth/me",
              "host": ["{{baseUrl}}"],
              "path": ["api", "auth", "me"]
            }
          }
        },
        {
          "name": "Change Password",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/auth/change-password",
              "host": ["{{baseUrl}}"],
              "path": ["api", "auth", "change-password"]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"currentPassword\": \"SecurePass123!\",\n  \"newPassword\": \"NewSecurePass456!\"\n}"
            }
          }
        },
        {
          "name": "Forgot Password",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/auth/forgot-password",
              "host": ["{{baseUrl}}"],
              "path": ["api", "auth", "forgot-password"]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"test@example.com\"\n}"
            }
          }
        },
        {
          "name": "Reset Password",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/auth/reset-password",
              "host": ["{{baseUrl}}"],
              "path": ["api", "auth", "reset-password"]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"token\": \"reset-token-from-email\",\n  \"password\": \"NewSecurePass789!\"\n}"
            }
          }
        },
        {
          "name": "Verify Email",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/auth/verify-email",
              "host": ["{{baseUrl}}"],
              "path": ["api", "auth", "verify-email"]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"token\": \"verification-token-from-email\"\n}"
            }
          }
        },
        {
          "name": "Logout",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Logout successful\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "url": {
              "raw": "{{baseUrl}}/api/auth/logout",
              "host": ["{{baseUrl}}"],
              "path": ["api", "auth", "logout"]
            }
          }
        }
      ]
    },
    {
      "name": "üîë MFA Management",
      "item": [
        {
          "name": "Setup MFA",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"MFA setup initiated\", function () {",
                  "    pm.response.to.have.status(200);",
                  "    var jsonData = pm.response.json();",
                  "    pm.environment.set(\"mfaSecret\", jsonData.data.secret);",
                  "    console.log(\"MFA Secret: \" + jsonData.data.secret);",
                  "    console.log(\"Scan QR code with Google Authenticator\");",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "url": {
              "raw": "{{baseUrl}}/api/auth/mfa/setup",
              "host": ["{{baseUrl}}"],
              "path": ["api", "auth", "mfa", "setup"]
            }
          }
        },
        {
          "name": "Verify MFA (Setup)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/auth/mfa/verify",
              "host": ["{{baseUrl}}"],
              "path": ["api", "auth", "mfa", "verify"]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"code\": \"123456\",\n  \"mfaToken\": \"{{mfaToken}}\",\n  \"isSetup\": true\n}"
            }
          }
        },
        {
          "name": "Verify MFA (Login)",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"MFA verification successful\", function () {",
                  "    pm.response.to.have.status(200);",
                  "    var jsonData = pm.response.json();",
                  "    pm.environment.set(\"accessToken\", jsonData.data.tokens.access);",
                  "    pm.environment.set(\"refreshToken\", jsonData.data.tokens.refresh);",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/auth/mfa/verify",
              "host": ["{{baseUrl}}"],
              "path": ["api", "auth", "mfa", "verify"]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"code\": \"123456\",\n  \"mfaToken\": \"{{mfaToken}}\",\n  \"isSetup\": false\n}"
            }
          }
        },
        {
          "name": "Disable MFA",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/auth/mfa/disable",
              "host": ["{{baseUrl}}"],
              "path": ["api", "auth", "mfa", "disable"]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"password\": \"SecurePass123!\"\n}"
            }
          }
        }
      ]
    },
    {
      "name": "üìß Campaigns",
      "item": [
        {
          "name": "Create Campaign",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Campaign created\", function () {",
                  "    pm.response.to.have.status(201);",
                  "    pm.environment.set(\"campaignId\", pm.response.json().id);",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/campaigns",
              "host": ["{{baseUrl}}"],
              "path": ["api", "campaigns"]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Welcome Campaign\",\n  \"subject\": \"Welcome to Email Suite!\",\n  \"body\": \"<h1>Welcome!</h1><p>Thanks for joining us.</p>\",\n  \"recipients\": [\"user1@example.com\", \"user2@example.com\"],\n  \"scheduledAt\": null\n}"
            }
          }
        },
        {
          "name": "Get All Campaigns",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/api/campaigns?page=1&limit=20&status=",
              "host": ["{{baseUrl}}"],
              "path": ["api", "campaigns"],
              "query": [
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "20"
                },
                {
                  "key": "status",
                  "value": ""
                }
              ]
            }
          }
        },
        {
          "name": "Get Single Campaign",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/api/campaigns/{{campaignId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "campaigns", "{{campaignId}}"]
            }
          }
        },
        {
          "name": "Update Campaign",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/campaigns/{{campaignId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "campaigns", "{{campaignId}}"]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Updated Campaign Name\",\n  \"subject\": \"Updated Subject\"\n}"
            }
          }
        },
        {
          "name": "Delete Campaign",
          "request": {
            "method": "DELETE",
            "url": {
              "raw": "{{baseUrl}}/api/campaigns/{{campaignId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "campaigns", "{{campaignId}}"]
            }
          }
        },
        {
          "name": "Schedule Campaign",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/campaigns/{{campaignId}}/schedule",
              "host": ["{{baseUrl}}"],
              "path": ["api", "campaigns", "{{campaignId}}", "schedule"]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"scheduleAt\": \"2026-03-01T10:00:00Z\"\n}"
            }
          }
        },
        {
          "name": "Send Campaign Immediately",
          "request": {
            "method": "POST",
            "url": {
              "raw": "{{baseUrl}}/api/campaigns/{{campaignId}}/send",
              "host": ["{{baseUrl}}"],
              "path": ["api", "campaigns", "{{campaignId}}", "send"]
            }
          }
        },
        {
          "name": "Pause Campaign",
          "request": {
            "method": "POST",
            "url": {
              "raw": "{{baseUrl}}/api/campaigns/{{campaignId}}/pause",
              "host": ["{{baseUrl}}"],
              "path": ["api", "campaigns", "{{campaignId}}", "pause"]
            }
          }
        },
        {
          "name": "Resume Campaign",
          "request": {
            "method": "POST",
            "url": {
              "raw": "{{baseUrl}}/api/campaigns/{{campaignId}}/resume",
              "host": ["{{baseUrl}}"],
              "path": ["api", "campaigns", "{{campaignId}}", "resume"]
            }
          }
        },
        {
          "name": "Get Campaign Analytics",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/api/campaigns/{{campaignId}}/analytics",
              "host": ["{{baseUrl}}"],
              "path": ["api", "campaigns", "{{campaignId}}", "analytics"]
            }
          }
        },
        {
          "name": "Get Campaign Recipients",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/api/campaigns/{{campaignId}}/recipients?page=1&limit=50",
              "host": ["{{baseUrl}}"],
              "path": ["api", "campaigns", "{{campaignId}}", "recipients"],
              "query": [
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "50"
                }
              ]
            }
          }
        }
      ]
    },
    {
      "name": "üìù Templates",
      "item": [
        {
          "name": "Create Template",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Template created\", function () {",
                  "    pm.response.to.have.status(201);",
                  "    pm.environment.set(\"templateId\", pm.response.json().id);",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/templates",
              "host": ["{{baseUrl}}"],
              "path": ["api", "templates"]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Welcome Template\",\n  \"subject\": \"Welcome {{name}}!\",\n  \"body\": \"<h1>Hello {{name}},</h1><p>Welcome to our service!</p>\",\n  \"category\": \"welcome\",\n  \"variables\": [\n    {\n      \"name\": \"name\",\n      \"type\": \"string\",\n      \"required\": true\n    }\n  ]\n}"
            }
          }
        },
        {
          "name": "Get All Templates",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/api/templates",
              "host": ["{{baseUrl}}"],
              "path": ["api", "templates"]
            }
          }
        },
        {
          "name": "Update Template",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/templates/{{templateId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "templates", "{{templateId}}"]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Updated Template Name\",\n  \"subject\": \"Updated Subject\"\n}"
            }
          }
        },
        {
          "name": "Delete Template",
          "request": {
            "method": "DELETE",
            "url": {
              "raw": "{{baseUrl}}/api/templates/{{templateId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "templates", "{{templateId}}"]
            }
          }
        }
      ]
    },
    {
      "name": "üëÅÔ∏è Tracking",
      "item": [
        {
          "name": "Serve Tracking Pixel",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/api/track/pixel/{{trackingId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "track", "pixel", "{{trackingId}}"]
            }
          }
        },
        {
          "name": "Track Link Click",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/api/track/click/{{trackingId}}?url=https://example.com",
              "host": ["{{baseUrl}}"],
              "path": ["api", "track", "click", "{{trackingId}}"],
              "query": [
                {
                  "key": "url",
                  "value": "https://example.com"
                }
              ]
            }
          }
        },
        {
          "name": "Track Email Open (API)",
          "request": {
            "method": "POST",
            "url": {
              "raw": "{{baseUrl}}/api/track/open/{{trackingId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "track", "open", "{{trackingId}}"]
            }
          }
        },
        {
          "name": "Get Tracking Analytics",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/api/track/analytics/{{trackingId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "track", "analytics", "{{trackingId}}"]
            }
          }
        }
      ]
    },
    {
      "name": "üí≥ Payments",
      "item": [
        {
          "name": "Create Checkout Session",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/payments/create-checkout-session",
              "host": ["{{baseUrl}}"],
              "path": ["api", "payments", "create-checkout-session"]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"plan\": \"PRO\",\n  \"successUrl\": \"{{baseUrl}}/payment/success\",\n  \"cancelUrl\": \"{{baseUrl}}/payment/cancel\"\n}"
            }
          }
        },
        {
          "name": "Create Customer Portal Session",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/payments/customer-portal",
              "host": ["{{baseUrl}}"],
              "path": ["api", "payments", "customer-portal"]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"returnUrl\": \"{{baseUrl}}/dashboard\"\n}"
            }
          }
        },
        {
          "name": "Get Subscription Status",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/api/payments/subscription-status",
              "host": ["{{baseUrl}}"],
              "path": ["api", "payments", "subscription-status"]
            }
          }
        },
        {
          "name": "Stripe Webhook",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Stripe-Signature",
                "value": "{{stripeSignature}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/payments/webhook",
              "host": ["{{baseUrl}}"],
              "path": ["api", "payments", "webhook"]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"id\": \"evt_test_webhook\",\n  \"type\": \"checkout.session.completed\"\n}"
            }
          }
        }
      ]
    },
    {
      "name": "ü©∫ Health",
      "item": [
        {
          "name": "Health Check",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Health check passed\", function () {",
                  "    pm.response.to.have.status(200);",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.be.oneOf([\"healthy\", \"degraded\"]);",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/health",
              "host": ["{{baseUrl}}"],
              "path": ["health"]
            }
          }
        }
      ]
    },
    {
      "name": "üîÑ Complete Flows",
      "item": [
        {
          "name": "Authentication Flow",
          "item": [
            {
              "name": "1. Register",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "url": {
                  "raw": "{{baseUrl}}/api/auth/register",
                  "host": ["{{baseUrl}}"],
                  "path": ["api", "auth", "register"]
                },
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"email\": \"test-flow@example.com\",\n  \"password\": \"FlowPass123!\",\n  \"name\": \"Flow Test User\",\n  \"plan\": \"FREE\"\n}"
                }
              }
            },
            {
              "name": "2. Login",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "var jsonData = pm.response.json();",
                      "pm.environment.set(\"accessToken\", jsonData.data.tokens.access);",
                      "pm.environment.set(\"refreshToken\", jsonData.data.tokens.refresh);"
                    ]
                  }
                }
              ],
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "url": {
                  "raw": "{{baseUrl}}/api/auth/login",
                  "host": ["{{baseUrl}}"],
                  "path": ["api", "auth", "login"]
                },
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"email\": \"test-flow@example.com\",\n  \"password\": \"FlowPass123!\",\n  \"rememberMe\": true\n}"
                }
              }
            },
            {
              "name": "3. Get Current User",
              "request": {
                "method": "GET",
                "url": {
                  "raw": "{{baseUrl}}/api/auth/me",
                  "host": ["{{baseUrl}}"],
                  "path": ["api", "auth", "me"]
                }
              }
            },
            {
              "name": "4. Logout",
              "request": {
                "method": "POST",
                "url": {
                  "raw": "{{baseUrl}}/api/auth/logout",
                  "host": ["{{baseUrl}}"],
                  "path": ["api", "auth", "logout"]
                }
              }
            }
          ]
        },
        {
          "name": "Campaign Lifecycle Flow",
          "item": [
            {
              "name": "1. Create Campaign",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "pm.environment.set(\"flowCampaignId\", pm.response.json().id);"
                    ]
                  }
                }
              ],
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "url": {
                  "raw": "{{baseUrl}}/api/campaigns",
                  "host": ["{{baseUrl}}"],
                  "path": ["api", "campaigns"]
                },
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"name\": \"Flow Campaign\",\n  \"subject\": \"Flow Campaign Subject\",\n  \"body\": \"<p>Campaign body</p>\",\n  \"recipients\": [\"recipient1@example.com\"],\n  \"scheduledAt\": null\n}"
                }
              }
            },
            {
              "name": "2. Schedule Campaign",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "url": {
                  "raw": "{{baseUrl}}/api/campaigns/{{flowCampaignId}}/schedule",
                  "host": ["{{baseUrl}}"],
                  "path": ["api", "campaigns", "{{flowCampaignId}}", "schedule"]
                },
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"scheduleAt\": \"2026-03-01T10:00:00Z\"\n}"
                }
              }
            },
            {
              "name": "3. Get Campaign Analytics",
              "request": {
                "method": "GET",
                "url": {
                  "raw": "{{baseUrl}}/api/campaigns/{{flowCampaignId}}/analytics",
                  "host": ["{{baseUrl}}"],
                  "path": ["api", "campaigns", "{{flowCampaignId}}", "analytics"]
                }
              }
            },
            {
              "name": "4. Delete Campaign",
              "request": {
                "method": "DELETE",
                "url": {
                  "raw": "{{baseUrl}}/api/campaigns/{{flowCampaignId}}",
                  "host": ["{{baseUrl}}"],
                  "path": ["api", "campaigns", "{{flowCampaignId}}"]
                }
              }
            }
          ]
        }
      ]
    }
  ]
}